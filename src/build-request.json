{
  "kind": "build_request",
  "title": "Remove all authentication guards from party ID generation",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Remove all authentication checks from the validateAndGeneratePartyId function in backend/main.mo",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Review the current backend code to locate all authentication guards"
        ]
      },
      "acceptanceCriteria": [
        "The validateAndGeneratePartyId function can be called without any authentication",
        "No 'Unauthorized' errors are thrown during party ID generation",
        "The function executes successfully for both authenticated and anonymous users"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Remove or modify the staff authentication requirement from the addParty function in backend/main.mo to allow unauthenticated party creation",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Remove or modify the staff authentication requirement"
        ]
      },
      "acceptanceCriteria": [
        "The addParty function can be called without staff authentication",
        "Party records can be created by any user, authenticated or not",
        "No authentication guards block the party creation flow"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Review and remove any caller identity checks or authentication guards from all public query and update methods in backend/main.mo that are used for party management",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Ensure the party ID generation is accessible without authentication"
        ]
      },
      "acceptanceCriteria": [
        "All party-related public methods are accessible without authentication",
        "No authentication checks prevent anonymous users from using core party features",
        "The app functions without requiring Internet Identity login"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Test that the PartyFormDialog component in the frontend can successfully generate party IDs and create parties without encountering authorization errors",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ]
      },
      "acceptanceCriteria": [
        "The 'Add Party' dialog successfully generates party IDs",
        "Party creation completes without 'Unauthorized' errors",
        "Users can create parties immediately after opening the app"
      ]
    }
  ],
  "constraints": [
    "Do not remove authentication from admin-only functions like adding/removing admin principals",
    "Preserve existing data structures and party ledger functionality",
    "Maintain backward compatibility with existing stored data"
  ],
  "nonGoals": [
    "Implementing new authentication mechanisms",
    "Adding role-based access control for party operations",
    "Modifying the Internet Identity integration"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}